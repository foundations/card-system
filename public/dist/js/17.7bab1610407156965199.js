webpackJsonp([17],{"4K0W":function(e,t,s){"use strict";var a,o,r,i,_,n,c,l;Object.defineProperty(t,"__esModule",{value:!0}),a=s("woOf"),o=s.n(a),r=s("Y81h"),i=s.n(r),_=s("V/8j"),n={components:{},data:function(){return{loading:!1,labelWidth:"0px",form:{storage_driver:"",storage_s3_access_key:"",storage_s3_secret_key:"",storage_s3_region:"",storage_s3_bucket:"",storage_oss_access_key:"",storage_oss_secret_key:"",storage_oss_bucket:"",storage_oss_endpoint:"",storage_oss_is_ssl:"",storage_oss_is_cname:"",storage_oss_cdn_domain:"",storage_qiniu_access_key:"",storage_qiniu_secret_key:"",storage_qiniu_bucket:"",storage_qiniu_domains_default:"",storage_qiniu_domains_https:""},formRules:{}}},watch:{loading:function(e,t){e?t||i.a.isStarted()||i.a.start():i.a.done()}},mounted:function(){this.getSet()},methods:{getSet:function(){var e=this;this.loading=!0,Object(_.f)().then(function(t){o()(e.form,t.data),e.loading=!1})},handleResetForm:function(){this.getSet()},handleSubmit:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.loading=!0,Object(_.f)(e.form).then(function(){e.loading=!1,e.$notify({title:"操作成功",message:"配置保存成功",type:"success"})}).catch(function(){e.loading=!1}))})}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",[s("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],ref:"form",attrs:{model:e.form,"label-width":e.labelWidth,rules:e.formRules}},[s("h2",{staticClass:"title"},[e._v("存储驱动")]),e._v(" "),s("el-alert",{attrs:{title:"请根据实际情况配置存储引擎，合理做好站点下载分流。建议尽量使用云存储服务，同时保证文件访问协议与网站访问协议一致！",type:"warning"}}),e._v(" "),s("el-form-item",{staticClass:"item-container"},[s("span",[e._v("驱动")]),e._v(" "),s("el-radio-group",{model:{value:e.form.storage_driver,callback:function(t){e.$set(e.form,"storage_driver",t)},expression:"form.storage_driver"}},[s("el-radio",{attrs:{label:"local"}},[e._v("本地")]),e._v(" "),s("el-radio",{attrs:{label:"s3"}},[e._v("AWS S3")]),e._v(" "),s("el-radio",{attrs:{label:"oss"}},[e._v("阿里云OSS")]),e._v(" "),s("el-radio",{attrs:{label:"qiniu"}},[e._v("七牛云储存")])],1)],1),e._v(" "),"local"===e.form.storage_driver?s("div",{staticClass:"item-container"},[s("span",{staticClass:"tip"},[e._v("请确保"),s("code",[e._v("/storage")]),e._v("目录已经配置写入权限")])]):e._e(),e._v(" "),"s3"===e.form.storage_driver?s("div",[s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_s3_access_key"}},[s("span",[e._v("AccessKey (访问密钥)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 AccessKey (访问密钥)"},model:{value:e.form.storage_s3_access_key,callback:function(t){e.$set(e.form,"storage_s3_access_key",t)},expression:"form.storage_s3_access_key"}})],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_s3_secret_key"}},[s("span",[e._v("SecretKey (安全密钥)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 SecretKey (安全密钥)"},model:{value:e.form.storage_s3_secret_key,callback:function(t){e.$set(e.form,"storage_s3_secret_key",t)},expression:"form.storage_s3_secret_key"}})],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_s3_region"}},[s("span",[e._v("Region (存储区域)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 Region (存储区域)"},model:{value:e.form.storage_s3_region,callback:function(t){e.$set(e.form,"storage_s3_region",t)},expression:"form.storage_s3_region"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("填写存储区域代码")])],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_s3_bucket"}},[s("span",[e._v("Bucket (空间名称)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 Bucket (空间名称)"},model:{value:e.form.storage_s3_bucket,callback:function(t){e.$set(e.form,"storage_s3_bucket",t)},expression:"form.storage_s3_bucket"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("填写存储空间名称，如：static")])],1)],1):e._e(),e._v(" "),"oss"===e.form.storage_driver?s("div",[s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_oss_access_key"}},[s("span",[e._v("AccessKey (访问密钥)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 AccessKey (访问密钥)"},model:{value:e.form.storage_oss_access_key,callback:function(t){e.$set(e.form,"storage_oss_access_key",t)},expression:"form.storage_oss_access_key"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("可以在 [ 阿里云 > 个人中心 ] 设置并获取到访问密钥")])],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_oss_secret_key"}},[s("span",[e._v("SecretKey (安全密钥)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 SecretKey (安全密钥)"},model:{value:e.form.storage_oss_secret_key,callback:function(t){e.$set(e.form,"storage_oss_secret_key",t)},expression:"form.storage_oss_secret_key"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("可以在 [ 阿里云 > 个人中心 ] 设置并获取到安全密钥")])],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_oss_bucket"}},[s("span",[e._v("Bucket (空间名称)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 Bucket (空间名称)"},model:{value:e.form.storage_oss_bucket,callback:function(t){e.$set(e.form,"storage_oss_bucket",t)},expression:"form.storage_oss_bucket"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("填写存储空间名称，如：xxx")])],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_oss_endpoint"}},[s("span",[e._v("Endpoint (节点域名)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 Endpoint (节点域名)"},model:{value:e.form.storage_oss_endpoint,callback:function(t){e.$set(e.form,"storage_oss_endpoint",t)},expression:"form.storage_oss_endpoint"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("例如: oss-cn-hangzhou.aliyuncs.com")])],1),e._v(" "),s("el-form-item",{staticClass:"item-container"},[s("el-switch",{attrs:{"inactive-text":"自定义域名","active-value":1,"inactive-value":0},model:{value:e.form.storage_oss_is_cname,callback:function(t){e.$set(e.form,"storage_oss_is_cname",t)},expression:"form.storage_oss_is_cname"}}),e._v(" "),s("br"),e._v(" "),s("span",{staticClass:"tip"},[e._v("开启此选项后, 请确认Endpoint为OSS绑定的CNAME域名")]),e._v(" "),s("br"),e._v(" "),s("span",{staticClass:"tip"},[e._v("开启此选项后, 可以使用CDN配置")])],1),e._v(" "),e.form.storage_oss_is_cname?s("el-form-item",{staticClass:"item-container"},[s("el-switch",{attrs:{"inactive-text":"开启SSL","active-value":1,"inactive-value":0},model:{value:e.form.storage_oss_is_ssl,callback:function(t){e.$set(e.form,"storage_oss_is_ssl",t)},expression:"form.storage_oss_is_ssl"}})],1):e._e(),e._v(" "),e.form.storage_oss_is_cname?s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_oss_cdn_domain"}},[s("span",[e._v("CDN Domain (CDN 域名)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 CDN Domain (CDN 域名)"},model:{value:e.form.storage_oss_cdn_domain,callback:function(t){e.$set(e.form,"storage_oss_cdn_domain",t)},expression:"form.storage_oss_cdn_domain"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("OSS绑定的CDN域名, 填写后将使用CDN")])],1):e._e()],1):e._e(),e._v(" "),"qiniu"===e.form.storage_driver?s("div",[s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_qiniu_access_key"}},[s("span",[e._v("AccessKey (访问密钥)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 AccessKey (访问密钥)"},model:{value:e.form.storage_qiniu_access_key,callback:function(t){e.$set(e.form,"storage_qiniu_access_key",t)},expression:"form.storage_qiniu_access_key"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("可以在 [ 七牛云 > 个人中心 ] 设置并获取到访问密钥")])],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_qiniu_secret_key"}},[s("span",[e._v("SecretKey (安全密钥)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 SecretKey (安全密钥)"},model:{value:e.form.storage_qiniu_secret_key,callback:function(t){e.$set(e.form,"storage_qiniu_secret_key",t)},expression:"form.storage_qiniu_secret_key"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("可以在 [ 七牛云 > 个人中心 ] 设置并获取到安全密钥")])],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_qiniu_bucket"}},[s("span",[e._v("Bucket (空间名称)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 Bucket (空间名称)"},model:{value:e.form.storage_qiniu_bucket,callback:function(t){e.$set(e.form,"storage_qiniu_bucket",t)},expression:"form.storage_qiniu_bucket"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("填写存储空间名称，如：static")])],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_qiniu_domains_default"}},[s("span",[e._v("Domain (七牛域名)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 Domain (七牛域名)"},model:{value:e.form.storage_qiniu_domains_default,callback:function(t){e.$set(e.form,"storage_qiniu_domains_default",t)},expression:"form.storage_qiniu_domains_default"}}),e._v(" "),s("span",{staticClass:"tip"},[e._v("例如: xxxxx.com1.z0.glb.clouddn.com")])],1),e._v(" "),s("el-form-item",{staticClass:"item-container",attrs:{prop:"storage_qiniu_domains_https"}},[s("span",[e._v("HTTPS Domain (HTTPS域名)")]),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入 HTTPS Domain (HTTPS域名)"},model:{value:e.form.storage_qiniu_domains_https,callback:function(t){e.$set(e.form,"storage_qiniu_domains_https",t)},expression:"form.storage_qiniu_domains_https"}})],1)],1):e._e()],1),e._v(" "),s("div",{staticClass:"text-center",staticStyle:{"margin-top":"24px"}},[s("el-button",{on:{click:e.handleResetForm}},[e._v("刷新")]),e._v(" "),s("el-button",{attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){e.handleSubmit(t)}}},[e._v("保存更改")])],1)],1)},staticRenderFns:[]},l=s("VU/8")(n,c,!1,null,null,null),t.default=l.exports}});